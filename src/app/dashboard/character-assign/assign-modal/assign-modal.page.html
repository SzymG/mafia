<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button text="" icon="chevron-back-outline" defaultHref="tabs/dashboard/character-assign"
                (click)="dismiss()">
            </ion-back-button>
        </ion-buttons>
        <ion-title class="ion-text-center">{{ "CharacterAssign.assignTitle" | translate }}: {{ ("Characters." + player.name + ".name") | translate}}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-grid class="assign-modal-grid">
        <ion-row class="ion-justify-content-center">
            <ion-col size="8">
                <ion-row>
                    <ion-col size="12">
                        <img [src]="'/assets/img/characters/' + player.name + '.png'">
                    </ion-col>
                </ion-row>

                <ion-row>
                    <ion-col size="12">
                        <ion-segment [(ngModel)]="segment" scrollable>
                            <ion-segment-button value="user">
                                {{"CharacterAssign.choose" | translate}}
                            </ion-segment-button>
                            <ion-segment-button value="name">
                                {{"CharacterAssign.enter" | translate}}
                            </ion-segment-button>
                        </ion-segment>
                    </ion-col>

                    <ion-col size="12" [ngSwitch]="segment">
                        <ion-row *ngSwitchCase="'user'">
                            <ion-col size="12">
                                <ion-list lines="none">
                                    <ion-item color="primary">
                                        <ion-select placeholder="{{'CharacterAssign.assignOne' | translate}}"
                                            [(ngModel)]="userId" color="primary">
                                            <ion-select-option *ngFor="let user of users" value="{{user.id}}">{{user.assign_name}}</ion-select-option>
                                        </ion-select>
                                    </ion-item>
                                </ion-list>
                            </ion-col>
                            <ion-col size="12">
                                <ion-button class="bold" (click)="confirmAssignUser()" [disabled]="!userId"
                                    expand="block">
                                    {{"CharacterAssign.save" | translate}}
                                </ion-button>
                            </ion-col>
                        </ion-row>

                        <ion-row *ngSwitchCase="'name'" class="ion-no-margin">
                            <ion-col size="12">
                                <ion-input class="name-input bold" [(ngModel)]="userName"
                                    placeholder="{{'CharacterAssign.passName' | translate}}">
                                </ion-input>
                            </ion-col>
                            <ion-col size="12">
                                <ion-button class="bold" (click)="confirmAssignName()" [disabled]="!userName"
                                    expand="block">
                                    {{"CharacterAssign.save" | translate}}
                                </ion-button>
                            </ion-col>
                        </ion-row>
                    </ion-col>
                </ion-row>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>